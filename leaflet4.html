<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Østmarka Offline N50 Kart</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  html, body { margin:0; padding:0; height:100%; }
  #map { width:100%; height:100%; }
</style>
</head>
<body>
<div id="map"></div>
<script>

var map = L.map('map').setView([59.883, 10.850], 12);

var n50 = L.tileLayer('tiles/{z}/{x}/{y}.png', {
    maxZoom: 16,
    minZoom: 10,
    tms: false, 
    attribution: 'Kart © Kartverket (N50)'
}).addTo(map);

var overlays = {};
var controlLayers = L.control.layers({'N50': n50}, overlays).addTo(map);

function addLayer(file, style, name){
  fetch(file)
    .then(res => res.json())
    .then(data => {
      var layer = L.geoJSON(data, {style: style}).addTo(map);
      overlays[name] = layer;
      controlLayers.addOverlay(layer, name);
      console.log("Lag lastet:", name);
    })
    .catch(err => console.error("Feil med", file, err));
}

addLayer('geojson/Samferdsel.geojson', {color:'black', weight:2}, 'Samferdsel');
addLayer('geojson/Stedsnavn.geojson', {color:'brown', weight:2}, 'Stedsnavn');
addLayer('geojson/Hoyde.geojson', {color:'gray', weight:1}, 'Høyde');
addLayer('geojson/Eiendom.geojson', {color:'purple', weight:1, fillOpacity:0.3}, 'Eiendom');
addLayer('geojson/Veidekke.geojson', {color:'blue', weight:1}, 'Veidekke');
addLayer('geojson/Omrader.geojson', {color:'green', weight:1}, 'Områder');

</script>
</body>
</html>

